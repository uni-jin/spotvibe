# 관리자 장소관리·Hot Spots Now 개선 분석 보고서

## 1. 관리자 사이트 영역을 화면 전체로 활용

### 현재
- **위치**: `src/admin/AdminLayout.jsx` 92~95라인
- **구조**: 메인 콘텐츠가 `<div className="flex-1 overflow-auto">` 안에 있고, 그 안에 **`max-w-7xl mx-auto p-6`** 로 감싸져 있음.
- **결과**: 최대 너비 1280px(max-w-7xl)로 제한되고 좌우 여백으로 인해 넓은 화면에서도 테이블이 전체를 쓰지 못함.

### 개선 방향
- 장소관리(및 필요 시 다른 관리 페이지)에서 **전체 너비**를 쓰려면:
  - AdminLayout의 메인 콘텐츠에서 `max-w-7xl` 제거 또는 `max-w-full`로 변경하거나,
  - 장소관리 페이지만 전체 너비를 쓰도록 PlacesManagement를 감싸는 wrapper에서 `max-w-full` / `w-full` 적용.
- 테이블은 `width: 100%` 또는 `table-auto`로 가로를 꽉 채우고, 필요 시 `min-w-…`로 최소 너비만 보장.

---

## 2. 테이블 헤더·셀 줄바꿈 방지 및 열 표시 방식

### 2-1. 타이틀 줄바꿈 (활성화, 포스팅 수 등)
- **현재**: `<th>`에 `whitespace-nowrap` 없음. 뷰포트가 좁거나 폰트/줄 높이에 따라 "활성화", "포스팅 수" 등이 두 줄로 떨어짐.
- **위치**: `PlacesManagement.jsx` 404~410라인 (테이블 헤더).
- **개선**: 모든 `<th>`에 `whitespace-nowrap` 추가해 헤더 텍스트가 한 줄로만 나오게 함.

### 2-2. 최근 상태의 일시 / 등록일 — 날짜·시간 줄바꿈, 열 너비 축소
- **현재**: `formatDate(place.recentPostTime)` / `formatDate(place.created_at)`가 `toLocaleString` 한 줄 문자열로 반환됨 (예: "2025. 2. 12. 오후 3:45").
- **위치**: 421~426라인(최근 상태 일시), 445~447라인(등록일).
- **개선**:
  - 날짜와 시간을 **두 줄**로 표시 (예: 1줄 "2025.02.12", 2줄 "15:45").
  - 해당 열에만 `min-w-0`·`max-w-[…]` 또는 `w-[…]` 등으로 **열 너비를 다소 좁게** 제한해, 테이블 전체 균형을 맞춤.

### 2-3. 노출 기간 — 시작일·종료일 두 줄
- **현재**: `formatDisplayPeriod(place)`가
  - 1줄: 상태 문구 (노출 중 / 노출 예정 / …)
  - 2줄: `startStr ~ endStr` (예: "24.01.01 ~ 24.02.28") 한 줄로 표시.
- **위치**: `PlacesManagement.jsx` 228~239라인.
- **개선**: 시작일·종료일을 **서로 다른 줄**로 표시 (1줄: 시작일, 2줄: 종료일). 상태 문구는 유지해도 됨.

### 2-4. 작업 열 "수정" 버튼 줄바꿈
- **현재**: `<td>` 또는 버튼에 `whitespace-nowrap` 없어, "수정" 두 글자도 셀 너비가 좁으면 줄바꿈될 수 있음.
- **위치**: 448~455라인.
- **개선**: 해당 `<td>` 또는 버튼에 `whitespace-nowrap` 추가해 한 줄로 고정.

### 2-5. 활성화 열 (활성/비활성) 줄바꿈
- **현재**: `<span className="…">활성</span>` / "비활성"이 셀 안에서 줄바꿈될 수 있음.
- **위치**: 431~456라인.
- **개선**: 해당 `<td>` 또는 뱃지 `<span>`에 `whitespace-nowrap` 추가해 "활성"/"비활성"이 한 줄로만 표시되게 함.

---

## 3. Hot Spots Now — 노출 기간 2가지 상태 표시 (시작 예정 / 진행중)

### 현재
- **위치**: `src/lib/supabase.js` `getPlaces()` (약 150~169라인).
- **로직**:  
  `display_start_date`·`display_end_date`가 있으면 **현재 시각(UTC) 기준으로 “노출 기간 안”인 장소만** 반환.
  - `(!startUTC || startUTC <= nowUTC) && (!endUTC || endUTC >= nowUTC)`  
  → 즉 **진행중(active)** 인 장소만 사용자에게 노출됨.
- **Hot Spots Now 카드**: `formatDisplayPeriod(spot.display_start_date, spot.display_end_date)`로 기간 문자열만 표시하고, **“시작 예정”/“진행중” 같은 상태 문구는 없음.**

### 요구사항
- 노출 기간에 따라 **2가지 상태**만 사용자에게 보여 주기:
  - **시작 예정**: 노출 시작일이 아직 안 왔음 (`start > now`).
  - **진행중**: 지금 노출 기간 안에 있음 (기존과 동일).
- “노출 종료”는 Hot Spots Now에는 노출하지 않아도 됨(기존처럼 제외).

### 개선 방향
1. **데이터 (supabase.js `getPlaces`)**  
   - 필터를 바꿔 **“진행중” + “시작 예정”** 모두 포함:
     - 진행중: `(!start || start <= now) && (!end || end >= now)`
     - 시작 예정: `start && start > now` (그리고 종료일이 이미 지났으면 제외: `!end || end >= now`).
   - 각 place 객체에 **상태 값** 추가 (예: `displayStatus: 'scheduled' | 'active'`).  
     - 무제한(시작·종료 없음)은 `'active'`로 두면 됨.
2. **UI (App.jsx Hot Spots Now 카드)**  
   - 카드 안에 `displayStatus`에 따라 **“시작 예정”** / **“진행중”** 문구(또는 뱃지)를 노출.
   - 기간 문자열은 기존 `formatDisplayPeriod` 유지하되, 필요하면 상태 문구 바로 아래/옆에 두면 됨.

---

## 요약

| 구분 | 현재 | 개선 방향 |
|------|------|-----------|
| 관리자 레이아웃 | `max-w-7xl`로 너비 제한 | 전체 화면 활용 (max 제거 또는 full width) |
| 테이블 헤더 | 줄바꿈 가능 | `th`에 `whitespace-nowrap` |
| 최근 상태·등록일 | 날짜+시간 한 줄, 열 넓음 | 날짜/시간 두 줄, 열 너비 축소 |
| 노출 기간 | 시작~종료 한 줄 | 시작일 1줄, 종료일 1줄로 줄바꿈 |
| 작업(수정)·활성화 | 줄바꿈 가능 | `whitespace-nowrap`으로 한 줄 고정 |
| Hot Spots Now | 진행중만 표시, 상태 문구 없음 | 진행중 + 시작 예정 포함, 카드에 “시작 예정”/“진행중” 표시 |

위 순서대로 적용하면 요청하신 동작과 레이아웃에 맞출 수 있습니다.
